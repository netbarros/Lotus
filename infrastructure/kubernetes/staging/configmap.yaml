apiVersion: v1
kind: ConfigMap
metadata:
  name: magicsaas-config
  namespace: magicsaas-staging
  labels:
    app: magicsaas
    environment: staging
data:
  # Application
  NODE_ENV: "production"
  PORT: "3003"
  APP_URL: "https://staging.softwarelotus.com.br"
  API_URL: "https://staging.softwarelotus.com.br/api"
  FRONTEND_URL: "https://staging.softwarelotus.com.br"

  # Directus
  DIRECTUS_URL: "http://directus:8055"
  DIRECTUS_DB_CLIENT: "pg"
  DIRECTUS_DB_HOST: "postgres"
  DIRECTUS_DB_PORT: "5432"
  DIRECTUS_DB_DATABASE: "magicsaas"
  DIRECTUS_CACHE_ENABLED: "true"
  DIRECTUS_CACHE_STORE: "redis"
  DIRECTUS_REDIS_HOST: "redis"
  DIRECTUS_REDIS_PORT: "6379"

  # Redis
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"

  # Sofia AI Features
  FEATURE_INTENTION_ENGINE: "true"
  FEATURE_UX_VALIDATION: "true"
  FEATURE_SEO_OPTIMIZATION: "true"
  FEATURE_MARKETPLACE: "true"
  FEATURE_META_ORCHESTRATION: "true"
  FEATURE_ADAPTIVE_LEARNING: "true"

  # Observability
  LOG_LEVEL: "info"
  PROMETHEUS_ENDPOINT: "http://prometheus:9090"
  GRAFANA_URL: "http://grafana:3000"
  JAEGER_ENDPOINT: "http://jaeger:14268/api/traces"

  # Security
  CORS_ENABLED: "true"
  RATE_LIMIT_WINDOW_MS: "60000"
  RATE_LIMIT_MAX_REQUESTS: "100"

  # Compliance
  GDPR_ENABLED: "true"
  LGPD_ENABLED: "true"
  AUDIT_LOG_ENABLED: "true"
  DATA_RETENTION_DAYS: "2555"
